<section class="todo-list">
    @if (todos().length === 0) {
    <div class="empty-state">
        <h3>ğŸ“ No todos yet!</h3>
        <p>Add your first todo to get started.</p>
    </div>
    }

    @if (todos().length > 0) {
    <div class="todos-grid">
        @for (todo of todos(); track todo.id) {
        <div class="todo-card">
            <div class="todo-header">
                <h4>{{ todo.title }}</h4>
                <a [routerLink]="['/todo-details', todo.id]" class="details-btn">DETAILS</a>
                <span class="status status-{{todo.status}}">
                    {{ getStatusLabel(todo.status) }}
                </span>
            </div>

            <p class="todo-description">{{ todo.description }}</p>

            <div class="todo-actions">
                <div class="status-change">
                    <label for="status-{{todo.id}}">Change Status:</label>
                    <select id="status-{{todo.id}}" [(ngModel)]="selectedStatuses[todo.id]" class="status-select">
                        <option [value]="TodoStatus.PENDING">âŒ› Pending</option>
                        <option [value]="TodoStatus.IN_PROGRESS">ğŸ”„ In Progress</option>
                        <option [value]="TodoStatus.COMPLETED">âœ… Completed</option>
                    </select>
                    <button class="update-btn" (click)="updateTodoStatus(todo.id, selectedStatuses[todo.id])"
                        [disabled]="selectedStatuses[todo.id] === todo.status">
                        ğŸ“ Update
                    </button>
                </div>
                <button (click)="deleteTodo(todo.id)" class="delete-btn">
                    ğŸ—‘ï¸ Delete
                </button>
            </div>
        </div>
        }
    </div>
    }
</section>